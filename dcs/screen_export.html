<!DOCTYPE HTML>
<html lang="en" class="hb_light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Screen Export - Heatblur F-4E Phantom II</title>


        <!-- Custom HTML head -->

        <meta name="description" content="Manual of the F-4E Phantom by Heatblur Simulations.">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="../favicon.svg">
        <link rel="stylesheet" href="../css/variables.css">
        <link rel="stylesheet" href="../css/general.css">
        <link rel="stylesheet" href="../css/chrome.css">
        <link rel="stylesheet" href="../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../highlight.css">
        <link rel="stylesheet" href="../tomorrow-night.css">
        <link rel="stylesheet" href="../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../theme/visual.css">
        <link rel="stylesheet" href="../theme/hb_light.css">
        <link rel="stylesheet" href="../theme/hb_dark.css">
        <link rel="stylesheet" href="../theme/pdf.css">

        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "hb_dark" : "hb_light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="../toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('hb_light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="../toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="hb_light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="hb_dark">Dark</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="pdf">(PDF)</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">Heatblur F-4E Phantom II</h1>

                    <div class="right-buttons">
                        <a href="../print.html" title="Print this manual" aria-label="Print this manual">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/Heatblur-Simulations/f-4e-manual/releases" title="PDF version" aria-label="PDF version">
                            <i id="pdf-button" class="fa fa-file-pdf-o"></i>
                        </a>
                        <a href="https://github.com/Heatblur-Simulations/f-4e-manual" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>
                        <a href="https://github.com/Heatblur-Simulations/f-4e-manual/edit/master/src/dcs/screen_export.md" title="Suggest an edit" aria-label="Suggest an edit">
                            <i id="git-edit-button" class="fa fa-edit"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this manual ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="screen-export"><a class="header" href="#screen-export">Screen Export</a></h1>
<p>DCS offers exporting and arranging in-game screens on multi-monitor setups. For
example displaying the content of the DSCG screen on a second monitor.</p>
<p><img src="../img/screen_export_f4_rwr.jpg" alt="Setup with exported RWR" /> (<em>Setup with RWR
exported to a small monitor</em>)</p>
<p>This allows for making great setups, in particular when owning some smaller
extra monitors; and is especially useful for SimPit builders.</p>
<p><img src="../img/screen_export_simpit.jpg" alt="SimPit Example" /></p>
<p>DCS interface for this expects users to define what is called a <strong>Viewport</strong>.
The F-4E currently supports this feature for the following screens:</p>
<div class="table-wrapper"><table><thead><tr><th>Screen</th><th>Viewport Name</th></tr></thead><tbody>
<tr><td>DSCG (Pilot)</td><td><code>F4E_Dscg_Pilot</code></td></tr>
<tr><td>DSCG (WSO)</td><td><code>F4E_Dscg_Wso</code></td></tr>
<tr><td>HUD</td><td><code>F4E_HeadUpDisplay</code></td></tr>
<tr><td>RWR</td><td><code>F4E_Rwr</code></td></tr>
</tbody></table>
</div>
<blockquote>
<p>ðŸ’¡ The DSCG screen of the cockpit the player is currently not sitting in will
not render any content.</p>
<p>In order to work, the DSCG screens currently require also exporting the
viewport <code>F4E_Dscg_Tv</code>, a width and height of <code>1</code> pixel suffices though.</p>
</blockquote>
<blockquote>
<p>ðŸš§ Support for other screens is in development:</p>
<ul>
<li><code>F4E_Cameras_AvtrTimeIndicatorPilot</code></li>
<li><code>F4E_Cameras_AvtrTimeIndicatorWso</code></li>
<li><code>F4E_EoTgtDesignatorSystem_BitDisplay</code></li>
<li><code>F4E_EoTgtDesignatorSystem_RangeIndicator</code></li>
<li><code>F4E_UhfRadio_FrequencyChannelIndicator</code></li>
</ul>
</blockquote>
<p>Of special interest are also programs such as
<a href="https://github.com/HeliosVirtualCockpit/Helios/wiki">Helios</a> which simplify the
entire process and lets users create even complex setups with ease.</p>
<h2 id="viewport"><a class="header" href="#viewport">Viewport</a></h2>
<p>In order to make use of the feature, players can define a special file in their
Saved Games <code>MonitorSetup</code> folder for DCS, for example:</p>
<blockquote>
<p><code>C:\Users\John Doe\Saved Games\DCS\Config\MonitorSetup\</code></p>
</blockquote>
<p>Such a file would for example be called <code>MySetup.lua</code> and look similar to this:</p>
<pre><code class="language-lua">_ = function(p)
  return p
end

name = _("MySetup")
Description = "This is my setup"

Viewports = {
  Center = {
    x = 0,
    y = 0,
    width = 3840,
    height = 2160,
    viewDx = 0,
    viewDy = 0,
    aspect = 3840 / 2160
  }
}

GU_MAIN_VIEWPORT = {
  x = 0,
  y = 0,
  width = 3840,
  height = 2160
}

UIMainView = {
  x = 0,
  y = 0,
  width = 3840,
  height = 2160
}

function reconfigure_for_unit(unit_type)
  if unit_type == "F-14B" or unit_type == "F-14A-135-GR" or unit_type == "F-14A-135-GR-Early" then
    F14_VDI = {
      x = 1016,
      y = 1450,
      width = 525,
      height = 525
    }

    F14_HSD = {
      x = 1016,
      y = 1985,
      width = 525,
      height = 525
    }
  elseif unit_type == "M-2000C" then
    RIGHT_MFCD = {
      x = 879,
      y = 1580,
      width = 800,
      height = 800
    }
  elseif unit_type == "F-4E-45MC" then
    F4E_Dscg_Pilot = {
      x = 3840,
      y = 2160 - 1527,
      width = 300,
      height = 300
    }
    F4E_Dscg_Wso = {
      x = 3840 + 300,
      y = 2160 - 1527,
      width = 300,
      height = 300
    }
    F4E_HeadUpDisplay = {
      x = 3840 + 300 + 300,
      y = 2160 - 1527,
      width = 300,
      height = 300
    }
    F4E_Rwr = {
      x = 3840 + 300 + 300 + 300,
      y = 2160 - 1527,
      width = 300,
      height = 300
    }

    F4E_Dscg_Tv = {
      x = 3840,
      y = 2160 - 1527 + 300,
      width = 1,
      height = 1
    }
  else
    LEFT_MFCD = {
      x = 3840,
      y = 2160 - 1527,
      width = 700,
      height = 700
    }

    RIGHT_MFCD = {
      x = 3840 + 700,
      y = 2160 - 1527,
      width = 700,
      height = 700
    }
  end
end
</code></pre>
<p>Once created, this setup will now appear within DCS for selection in the
graphics settings:</p>
<p><img src="../img/screen_export_dcs_settings.jpg" alt="DCS Settings" /></p>
<p>The way the setup works is that you first sum up the resolution of all monitors
that you want to use combined. This will be the target resolution to render DCS
at. The example uses two monitors, one at a <code>3840x2160</code> resolution and the other
at <code>2715x1527</code>, combined that makes a virtual monitor resolution of <code>6555x2160</code>.</p>
<p><img src="../img/screen_export_multi_monitor_resolutions.jpg" alt="Multi-Monitor Setup" /></p>
<p>The exact arrangement is defined in the Windows Display Settings:</p>
<p><img src="../img/screen_export_windows_monitor.jpg" alt="Windows Settings" /></p>
<p>In the setup-file, one has to now define several viewports for DCS. This tells
the game where on the virtual monitor to render which scene. The format looks as
follows:</p>
<pre><code class="language-lua">NAME_OF_THE_VIEWPORT = {
  x = ..., -- x-coordinate of top left corner, in pixels
  y = ..., -- y-coordinate of top left corner, in pixels
  width = ..., -- width to use for the scene, in pixels
  height = ... -- height to use for the scene, in pixels
}
</code></pre>
<p>The main scenery of DCS is defined and placed on the virtual monitor through the
following viewports:</p>
<pre><code class="language-lua">Viewports = {
  Center = {
    x = 0,
    y = 0,
    width = 3840,
    height = 2160,
    viewDx = 0,
    viewDy = 0,
    aspect = 3840 / 2160
  }
}

GU_MAIN_VIEWPORT = {
  x = 0,
  y = 0,
  width = 3840,
  height = 2160
}

UIMainView = {
  x = 0,
  y = 0,
  width = 3840,
  height = 2160
}
</code></pre>
<p>In the example setup this will render the main scenery of the game on the
<code>3840x2160</code> monitor arranged on the left.</p>
<p>The following section in the file lets you define custom viewports per aircraft
type:</p>
<pre><code class="language-lua">function reconfigure_for_unit(unit_type)
  if unit_type == "F-14B" or unit_type == "F-14A-135-GR" or unit_type == "F-14A-135-GR-Early" then
    ...
  elseif unit_type == "M-2000C" then
    ...
  elseif unit_type == "F-4E-45MC" then
    ...
  else
    ... -- any other aircraft
  end
end
</code></pre>
<p>Within this construct one can now declare custom viewports, for example</p>
<pre><code class="language-lua">F4E_Dscg_Pilot = {
  x = 3840,
  y = 2160 - 1527,
  width = 300,
  height = 300
}
</code></pre>
<p>will place the DSCG screen on the second monitor as follows:</p>
<p><img src="../img/screen_export_multi_dscg_example.jpg" alt="DSCG Placement" /></p>
<h2 id="modding"><a class="header" href="#modding">Modding</a></h2>
<p>Viewports, once defined by users in their monitor setups, are then picked up by
the modules code in the respective <em>Indicator-lua-files</em>, which can be found for
example in:</p>
<blockquote>
<p><code>C:\Programs\DCS\Mods\aircraft\F-4E\Cockpit\Scripts</code></p>
</blockquote>
<p>As an example, the HUD declares at the end of
<code>Scripts\HeadUpDisplay\Indicator\init.lua</code> the following two lines</p>
<pre><code class="language-lua">dofile(LockOn_Options.common_script_path .. "ViewportHandling.lua")
try_find_assigned_viewport("F4E_HeadUpDisplay")
</code></pre>
<p>which will try to see if the user created a viewport called <code>F4E_HeadUpDisplay</code>
and if so, render the scene there.</p>
<p>Modders can follow this approach to easily create new viewports in modules that
do not officially support them yet.</p>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Navigation button at bottom -->
                            <a rel="prev" href="../dcs/training_missions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i><span class="nav-chapters-text">Prev</span>
                            </a>

                            <a rel="next prefetch" href="../dcs/modding/overview.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class="nav-chapters-text">Next</span><i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                    <nav class="nav-wide-wrapper" aria-label="Page navigation">
                            <!-- Navigation button at bottom -->
                            <a rel="prev" href="../dcs/training_missions.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i><span class="nav-chapters-text">Prev</span>
                            </a>
                            <!-- Navigation button on the left, not displayed, but needed for Aria nav -->
                            <a rel="prev" href="../dcs/training_missions.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <span class="nav-chapters-text">Next</span><i class="fa fa-angle-left"></i>
                            </a>

                            <!-- Navigation button at bottom -->
                            <a rel="next prefetch" href="../dcs/modding/overview.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i><span class="nav-chapters-text">Next</span>
                            </a>
                            <!-- Navigation button on the right, not displayed, but needed for Aria nav -->
                            <a rel="next prefetch" href="../dcs/modding/overview.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <span class="nav-chapters-text">Next</span><i class="fa fa-angle-right"></i>
                            </a>
                    </nav>
                </div>
            </div>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../elasticlunr.min.js"></script>
        <script src="../mark.min.js"></script>
        <script src="../searcher.js"></script>

        <script src="../clipboard.min.js"></script>
        <script src="../highlight.js"></script>
        <script src="../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../js/jquery-3.7.1.min.js"></script>
        <script src="../js/extra.js"></script>


    </div>
    </body>
</html>
